{
  "timestamp": "2025-07-02T09:59:09.604231",
  "config": {
    "flask_url": "http://localhost:5000",
    "mcp_url": "http://localhost:3000",
    "embedding_proxy_url": "http://localhost:8080",
    "qdrant_url": "http://localhost:6333",
    "ollama_url": "http://localhost:11434"
  },
  "results": [
    {
      "component": "Qdrant",
      "endpoint": "http://localhost:6333/",
      "status": "success",
      "response_time_ms": 8.08,
      "data": {
        "title": "qdrant - vector search engine",
        "version": "1.7.4"
      },
      "error": null
    },
    {
      "component": "Embedding Proxy",
      "endpoint": "http://localhost:8080/health",
      "status": "success",
      "response_time_ms": 5.01,
      "data": {
        "collection_name": "documents",
        "database_status": "connected",
        "database_url": "http://qdrant:6333",
        "embedding_method": "builtin",
        "model": "sentence-transformers/all-MiniLM-L6-v2",
        "status": "ok",
        "vector_database": "qdrant",
        "version": "2.0.0-prebuilt"
      },
      "error": null
    },
    {
      "component": "MCP Server",
      "endpoint": "http://localhost:3000/status",
      "status": "success",
      "response_time_ms": 8.36,
      "data": {
        "status": "online",
        "version": "3.0.0",
        "workspace": "/workspace",
        "vectorization": {
          "enabled": true,
          "embeddingProxy": "http://embedding-proxy:8080",
          "vectorDatabase": "qdrant"
        }
      },
      "error": null
    },
    {
      "component": "Flask App",
      "endpoint": "http://localhost:5000/api/system/info",
      "status": "success",
      "response_time_ms": 31.39,
      "data": {
        "configuration": {
          "available_presets": [
            "creative",
            "balanced",
            "precise",
            "analytical"
          ],
          "saved_configurations": 0,
          "saved_param_configs": 0
        },
        "files": {
          "system_file_keywords": [
            "admin",
            "system",
            "default",
            "config",
            "haag"
          ],
          "system_files": [
            {
              "chunkCount": 0,
              "modified": "2025-07-01T04:27:06.536Z",
              "name": "config.json",
              "size": 5205,
              "vectorized": false
            },
            {
              "chunkCount": 0,
              "modified": "2025-07-01T19:45:47.925Z",
              "name": "system.json",
              "size": 10266,
              "vectorized": false
            }
          ],
          "total_files": 4,
          "user_files": [
            {
              "chunkCount": 0,
              "modified": "2025-07-02T16:21:31.635Z",
              "name": "gpt-40.json.txt",
              "size": 2117,
              "vectorized": false
            },
            {
              "chunkCount": 0,
              "modified": "2025-07-02T16:54:09.302Z",
              "name": "test_document.txt",
              "size": 324,
              "vectorized": false
            }
          ]
        },
        "performance": {
          "build_time": "optimized (2-3 minutes)",
          "scalability": "enterprise-ready",
          "search_speed": "production-grade",
          "storage_type": "persistent"
        },
        "rag_pipeline": {
          "citation_tracking": true,
          "confidence_scoring": true,
          "conversation_context": true,
          "embedding_proxy_enabled": true,
          "enhanced_reasoning": true,
          "performance_optimized": true,
          "prebuilt_vector_database": true,
          "production_ready": true,
          "two_stage_processing": true,
          "vectorized_search_enabled": true
        },
        "services": {
          "embedding_proxy_health": {
            "embedding_method": "builtin",
            "healthy": true,
            "model": "sentence-transformers/all-MiniLM-L6-v2",
            "response_time": 2.762,
            "status": "ok",
            "vector_database": "qdrant"
          },
          "embedding_proxy_url": "http://embedding-proxy:8080",
          "mcp_server_url": "http://mcp-filesystem:3000",
          "ollama_host": "http://ollama:11434",
          "vector_db_url": "http://qdrant:6333"
        },
        "system": {
          "name": "Enhanced Local AI Stack",
          "timestamp": "2025-07-02T16:59:09.057002",
          "version": "3.0.0-prebuilt"
        }
      },
      "error": null
    },
    {
      "component": "Ollama",
      "endpoint": "http://localhost:11434/api/tags",
      "status": "success",
      "response_time_ms": 4.0,
      "data": {
        "models": [
          {
            "name": "tinyllama:latest",
            "model": "tinyllama:latest",
            "modified_at": "2025-07-01T05:01:26.757737247Z",
            "size": 637700138,
            "digest": "2644915ede352ea7bdfaff0bfac0be74c719d5d5202acb63a6fb095b52f394a4",
            "details": {
              "parent_model": "",
              "format": "gguf",
              "family": "llama",
              "families": [
                "llama"
              ],
              "parameter_size": "1B",
              "quantization_level": "Q4_0"
            }
          },
          {
            "name": "llama3.2:3b",
            "model": "llama3.2:3b",
            "modified_at": "2025-06-29T17:46:56.559828877Z",
            "size": 2019393189,
            "digest": "a80c4f17acd55265feec403c7aef86be0c25983ab279d83f3bcd3abbcb5b8b72",
            "details": {
              "parent_model": "",
              "format": "gguf",
              "family": "llama",
              "families": [
                "llama"
              ],
              "parameter_size": "3.2B",
              "quantization_level": "Q4_K_M"
            }
          }
        ]
      },
      "error": null
    },
    {
      "component": "Collection Init",
      "endpoint": "http://localhost:3000/collections/init",
      "status": "success",
      "response_time_ms": 23.42,
      "data": {
        "status": "success",
        "message": "Collection initialized",
        "collection": "documents"
      },
      "error": null
    },
    {
      "component": "File Upload",
      "endpoint": "http://localhost:5000/api/files",
      "status": "success",
      "response_time_ms": 25.79,
      "data": {
        "chunksCreated": 0,
        "error": "Request failed with status code 500",
        "fileSize": 324,
        "file_info": {
          "content_length": 0,
          "size": 324
        },
        "filename": "test_document.txt",
        "is_system": false,
        "message": "File uploaded but vectorization failed",
        "processingMethod": "unknown",
        "upload_timestamp": "2025-07-02T16:59:09.109141",
        "vector_processing": {
          "chunks_created": 0,
          "processing_method": "unknown",
          "processing_time_ms": 0,
          "status": "failed",
          "vector_database": "unknown"
        },
        "vectorizationStatus": "failed"
      },
      "error": null
    },
    {
      "component": "Embedding Proxy Search",
      "endpoint": "http://localhost:8080/search",
      "status": "success",
      "response_time_ms": 8.33,
      "data": {
        "processing_method": "prebuilt_vectordb",
        "query": "What are vector databases used for?",
        "results": [],
        "total_results": 0,
        "vector_database": "qdrant"
      },
      "error": null
    },
    {
      "component": "MCP Server Search",
      "endpoint": "http://localhost:3000/search",
      "status": "success",
      "response_time_ms": 8.53,
      "data": {
        "query": "What are vector databases used for?",
        "results": [],
        "totalResults": 0,
        "searchStats": {
          "embeddingProxy": "http://embedding-proxy:8080",
          "vectorDbType": "qdrant"
        }
      },
      "error": null
    },
    {
      "component": "RAG Pipeline (fast)",
      "endpoint": "http://localhost:5000/api/chat",
      "status": "success",
      "response_time_ms": 15.1,
      "data": {
        "citations": [],
        "conversation_id": "test_fast",
        "metadata": {
          "confidence_score": 3,
          "context_chunks_used": 0,
          "processing_mode": "fast",
          "processing_time_ms": 11,
          "reasoning_pattern": "Fast-Prebuilt-Vector-RAG",
          "search_performance": {
            "results_count": 0,
            "search_time_ms": 0
          },
          "search_results": [],
          "vector_database_info": {
            "status": "no_results",
            "type": "unknown"
          }
        },
        "response": "Error: Ollama API returned 404"
      },
      "error": null
    },
    {
      "component": "RAG Pipeline (detailed)",
      "endpoint": "http://localhost:5000/api/chat",
      "status": "success",
      "response_time_ms": 40.05,
      "data": {
        "citations": [],
        "conversation_id": "test_detailed",
        "metadata": {
          "confidence_score": 1,
          "context_chunks_used": 0,
          "error_type": "KeyError",
          "processing_mode": "error",
          "processing_time_ms": 13,
          "search_performance": {},
          "search_results": [],
          "vector_database_info": {}
        },
        "response": "I apologize, but I encountered an error while processing your query: 'avg_similarity'"
      },
      "error": null
    }
  ],
  "summary": {
    "total_tests": 11,
    "successful": 11,
    "failed": 0,
    "avg_response_time_ms": 16.187272727272727
  }
}